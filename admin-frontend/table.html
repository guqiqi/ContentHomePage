<!doctype html>
<html class="no-js fixed-layout">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>Amaze UI Admin index Examples</title>
    <meta name="description" content="这是一个 index 页面">
    <meta name="keywords" content="index">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="renderer" content="webkit">
    <meta http-equiv="Cache-Control" content="no-siteapp" />
    <link rel="apple-touch-icon-precomposed" href="assets/i/app-icon72x72@2x.png">
    <meta name="apple-mobile-web-app-title" content="Amaze UI" />
    <link rel="stylesheet" href="assets/css/amazeui.min.css"/>
    <link rel="stylesheet" href="assets/css/admin.css">
    
</head>
<body>
        <div class="admin-content">
                <div class="admin-content-body">
                    <div class="am-cf am-padding am-padding-bottom-0">
                        <div class="am-fl am-cf"><strong class="am-text-primary am-text-lg">团队管理</strong> / <small></small></div>
                    </div>
            
                    <hr>
            
                    <div class="am-g">
                        <div class="am-u-sm-12 am-u-md-6">
                            <div class="am-btn-toolbar">
                                <div class="am-btn-group am-btn-group-xs">
                                    <button type="button" id="checkall"class="am-btn am-btn-default"><span class="icon-check"></span> 全选</button>
                                    <button type="button" class="am-btn am-btn-default" onclick="delAll()"><span class="am-icon-trash-o"></span> 删除</button>
                                    <button type="button" class="am-btn am-btn-default">   <a href="vip-add.html"><span class="am-icon-plus"></span> 添加团队</a></button>
            
                                </div>
                            </div>
                        </div>
                        <div class="am-u-sm-12 am-u-md-3">
                            <div class="am-input-group am-input-group-sm">
                                <input id="con" type="text" class="am-form-field">
                                <span class="am-input-group-btn">
                        <button class="am-btn am-btn-default" type="button" onclick="search()">根据团队名称搜索</button>
                      </span>
                            </div>
                        </div>
                        <div class="am-u-sm-12 am-u-md-3">
                            <div class="am-input-group am-input-group-sm">
                                <input id="con2" type="text" class="am-form-field">
                                <span class="am-input-group-btn">
                        <button class="am-btn am-btn-default" type="button" onclick="searchByName()">根据队长姓名搜索</button>
                      </span>
                            </div>
                        </div>
                    </div>
                    <div class="am-g">
                        <div class="am-u-sm-12">
                            <form class="am-form">
            
                                    <table class="am-table am-table-striped am-table-hover table-main" lay-skin="line" id="datas">
                                            <colgroup>
                                                <col width="150">
                                                <col width="200">
                                                <col>
                                            </colgroup>
                                            <thead>
                                            <tr>
                                                    <th>团队名称</th>
                                                    <th>队长姓名</th>
                                                    <th>联系电话</th>
                                                    <th>邮箱</th>
                                                    <th>队员人数</th>
                                                    <th>初赛作品</th>
                                                    <th>复赛作品</th>
                                                    <th>决赛作品</th>
                                                    <th>团队公告</th>
                                            </tr>
                                            </thead>
                                            <tbody id="tbMain">
                                            <tr id="template">
                                                <td id="tname"></td>
                                                <td id="tleader"></td>
                                                <td id="phone"></td>
                                                <td id="mail"></td>
                                                <td id="people"></td>
                                                <td id="firstwork">
                                                    <!-- <button type="button" id="btn2">下载</button> -->
                                                </td>
                                                <td id="secondwork"></td>
                                                <td id="finalwork"></td>
                                                <td id="notice"></td>
                                            </tr>
                                            </tbody>
                                        </table>
                                       
<div  class="am-cf">
    <div id="jilu">共 3 条记录</div>
    <div class="am-fr">
        <ul class="am-pagination">
            <li><a id="pageminus" href="#" onclick="changegroup(1)">«</a></li>
            <li><a id="page1" href="#" onclick="changepage(1)">1</a></li>
            <li><a id="page2" href="#" onclick="changepage(2)">2</a></li>
            <li><a id="page3" href="#" onclick="changepage(3)">3</a></li>
            <li><a id="page4" href="#" onclick="changepage(4)">4</a></li>
            <li><a id="page5" href="#" onclick="changepage(5)">5</a></li>
            <li><a id="pageplus" href="#" onclick="changegroup(2)">»</a></li>
        </ul>
    </div>
</div>
<hr />

</form>
</div>

</div>
</div>

<footer class="admin-content-footer">
<hr>
<p class="am-padding-left"></p>
</footer>

</div>
<!-- content end -->
</div>



<footer>
<hr>
<p class="am-padding-left">© 2014 AllMobilize, Inc. Licensed under MIT license.</p>
</footer>
<!--[if (gte IE 9)|!(IE)]><!-->
    <script src="assets/js/jquery.min.js"></script>
    <!--<![endif]-->
    <script src="assets/js/amazeui.min.js"></script>
    <script src="assets/js/app.js"></script>
    
    
    <script>
        $("#checkall").click(function(){
            $("input[name='id[]']").each(function(){
                if (this.checked) {
                    this.checked = false;
                }
                else {
                    this.checked = true;
                }
            });
        })
    
        $(document).on('click','table thead input[type="checkbox"]',function(){
            if($(this).is(':checked')){
                $('tbody input[type="checkbox"]').prop('checked',true);
            }else{
                $('tbody input[type="checkbox"]').prop('checked',false);
            }
        })
        $(document).on('click','table tbody input[type="checkbox"]',function(){
            console.log($('table tbody input[type="checkbox"]'))
            if($('table tbody input[type="checkbox"]').length==$('table tbody input[type="checkbox"]:checked').length){
                $('thead input[type="checkbox"]').prop('checked',true);
            }else{
                $('thead input[type="checkbox"]').prop('checked',false);
            }
        })
        
            
        //批量删除
        function DelSelect(){
            var Checkbox=false;
            $("input[name='id[]']").each(function(){
                if (this.checked==true) {
                    Checkbox=true;
                }
            });
            if (Checkbox){
                var t=confirm("您确认要删除选中的内容吗？");
                if (t==false) return false;
                $("#listform").submit();
            }
            else{
                alert("请选择您要删除的内容!");
                return false;
            }
        }
 //模拟一段JSON数据，实际要从数据库中读取 
 var data = [{
            "tname": 6,
            "tleader": "李",
            "phone":"184456",
            "mail": "platform",
            "people":"10",
            "firstwork":"下载",
            "secondwork":"下载",
            "finalwork":"下载",
            "notice":"这是一条消息"  
        },
            {
            "tname": 1,
            "tleader": "李四",
            "phone":"184456",
            "mail": "platform",
            "people":"10",
            "firstwork":"下载",
            "secondwork":"下载",
            "finalwork":"下载",
            "notice":"这是一条消息"
            },
            {
            "tname": 2,
            "tleader": "张三",
            "phone":"184456",
            "mail": "platform",
            "people":"10",
            "firstwork":"下载",
            "secondwork":"下载",
            "finalwork":"下载",
            "notice":"这是一条消息"
            },
            {
            "tname": 3,
            "tleader": "王五",
            "phone":"184456",
            "mail": "platform",
            "people":"10",
            "firstwork":"下载",
            "secondwork":"下载",
            "finalwork":"下载",
            "notice":"好消息"
            },
            {
            "tname": 4,
            "tleader": "刘六",
            "phone":"184456",
            "mail": "platform",
            "people":"10",
            "firstwork":"下载",
            "secondwork":"下载",
            "finalwork":"下载",
            "notice":"这是一条消息"
            },
            {
            "tname": 5,
            "tleader": "张",
            "phone":"184456",
            "mail": "platform",
            "people":"10",
            "firstwork":"下载",
            "secondwork":"下载",
            "finalwork":"下载",
            "notice":"这是一条消息"
            }];
            //普通for循环，经常用的数组遍历
            for ( var i = 0; i <data.length; i++){
            console.log(data[i]);
            $.each(data, function (i, n) {
        var row = $("#template").clone();
        row.find("#tname").text(n.tname);
        row.find("#tleader").text(n.tleader);
        row.find("#phone").text(n.phone);
        row.find("#mail").text(n.mail);
        row.find("#people").text(n.people);
        row.find("#firstwork").text(n.firstwork);
        row.find("#secondwork").text(n.secondwork);
        row.find("#finalwork").text(n.finalwork);
        row.find("#notice").text(n.notice);
        row.appendTo("#datas");//添加到模板的容器中  
    });
    

}
 window.onload = function(){ 
   var tbody = document.getElementById('tbMain'); 
   for(var i = 0;i < per.length; i++){ //遍历一下json数据 
     var trow = getDataRow(per[i]); //定义一个方法,返回tr数据 
     tbody.appendChild(trow); 
    } 
   } 
   
 function getDataRow(h){ 
   var row = document.createElement('tr'); //创建行 
   var tnameCell = document.createElement('td'); //创建第一列tname 
   tnameCell.innerHTML = h.tname; //填充数据 
   row.appendChild(tnameCell); //加入行 ，下面类似 
   var tleaderCell = document.createElement('td');//创建第二列tleader
   tleaderCell.innerHTML = h.tleader; 
   row.appendChild(tleaderCell); 
   var phoneCell = document.createElement('td');//创建第三列phone
   phoneCell.innerHTML = h.phone; 
   row.appendChild(phoneCell); 
   var mailCell = document.createElement('td'); //创建第四列mail  
   mailCell.innerHTML = h.mail; //填充数据  
     row.appendChild(mailCell); 
   var peopleCell = document.createElement('td'); //创建第五列people  
   peopleCell.innerHTML = h.people; //填充数据  
     row.appendChild(peopleCell); 
   var firstworkCell = document.createElement('td'); //创建第六列firstwork 
     firstworkCell.innerHTML = h.firstwork; //填充数据  
     row.appendChild(firstworkCell);  
   var secondworkCell = document.createElement('td'); //创建第七列secondwork 
   secondworkCell.innerHTML = h.secondwork; //填充数据  
     row.appendChild(secondworkCell);  
    var finalworkCell = document.createElement('td'); //创建第八列finalwork
    finalworkCell.innerHTML = h.finalwork; //填充数据  
     row.appendChild(finalworkCell); 
     var noticeCell = document.createElement('td'); //创建第九列notice
     noticeCell.innerHTML = h.notice; //填充数据  
     row.appendChild(noticeCell);  
   //到这里，json中的数据已经添加到表格中，下面为每行末尾添加删除按钮 

   function editTd(tname) 
    //选中编辑按钮的时候,把这行指定的几个td变成文本框
    var b = $("input[type='button'][id='"+id+"']").parent(); //td
   var a = b.siblings(); //td的兄弟节点
   if(a[1].children.length===0){
      a[1].innerHTML="<input type='text' value='"+a[1].innerText+"'/>";
   }
   if(a[2].children.length===0){
      a[2].innerHTML="<input type='text' value='"+a[2].innerText+"'/>";
   }
   if(a[3].children.length===0){
      a[3].innerHTML="<input type='text' value='"+a[3].innerText+"'/>";
   }

   var $eleFirstwork = $("#firstwork");
    $eleFirstwork.click(function(){
            var $eleForm = $("<form method='get'></form>");

            $eleForm.attr("action","https://codeload.github.com/douban/douban-client/legacy.zip/master");

            $(document.body).append($eleForm);

            //提交表单，实现下载
            $eleForm.submit();
        });
        function add(){
       //获取输入的行和列
       var h = document.getElementById("h").value;
       var l = document.getElementById("l").value;
       //把表格代码放到一个变量里面
       var tab = "<table border='1'bordercolor='blue'>";
       //循环行
       for(var i=1;i<=h;i++){
           tab +="<tr>";
           //循环单元格
           for(var j=1;j<=1;j++){
               tab +="<td>aaaaaaa</td>"
           }
           tab +="</tr>"
       }
   }
   tab +="</table>";    
</script>
<script src="assets/js/getUrl.js"></script>
<script src="./assets/js/vip-list.js"></script>
<script>
    var storage = window.localStorage;
    if(storage["has"]!="yes"){
        window.location.href="login.html";
    }
</script>
</body>
</html>